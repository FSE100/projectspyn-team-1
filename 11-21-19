clearvars -except brick;

while 1
    brick.MoveMotor('A', -20);
    brick.MoveMotor('B', -18.3);
    brick.SetColorMode(2, 2);   % Set Color Sensor connected to Port 1 to Color Code Mode
    color = brick.ColorCode(2);  % Get Color on port 1.
    %display(color);                % Print color code of object.
    distance = brick.UltrasonicDist(1);% Get distance to the nearest object.
    display(distance);                   % Print distance.
    
    %if sees red
    if (color == 5 ) %red
     brick.StopMotor('AB', 'Brake');
     pause(4);
     brick.MoveMotor('AB', -20)
     pause(1);
    end
    
    %pickup zone
    if (color == 3) %green and if the crane is up(means the passenger is picked up) 
       
    end
    
    %blue, dropoff
    if (color == 2) %blue
         brick.MoveMotor('AB', -10)
        pause(1);
        bric.StopMotor('AB', 'Brake'
        brick.MoveMotor('C', -20); %Move Down
   
    end
    
    
    %wall, turning
    if (distance < 25)
     brick.MoveMotor ('AB', 20);
     pause(1);
     brick.StopMotor('AB');
     pause(1);
     brick.MoveMotorAngleRel('B', -20, 360, 'Coast');
     brick.WaitForMotor('B');
     brick.StopMotor('B');
     distance = brick.UltrasonicDist(1);
     rightdistance = distance;
     brick.MoveMotorAngleRel('A', -20, 690, 'Coast');
     brick.WaitForMotor('A');
     brick.StopMotor('A');
     distance = brick.UltrasonicDist(1);
     leftdistance = distance;
       % if ( leftdistance>rightdistance)
        %    brick.MoveMotor('AB', -20);
        %end
        %if ( rightdistance>leftdistance)
         %   brick.MoveMotorAngleRel('A', -20, 30, 'Coast');
        %end
    end
    
 
    
    
    
    
   
    
    
        
end
